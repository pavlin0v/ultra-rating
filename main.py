import os
from dotenv import load_dotenv
from rating import Rating
from notion_client import Client

notion = Client(auth=os.getenv("NOTION_TOKEN"))
database_id = os.getenv("NOTION_DATABASE_ID")

responseExample = """
<rating>
<name>
Статья "Audio Analysis With Machine Learning: Building AI-Fueled So"
</name>
<description>
Статья рассматривает анализ аудио с помощью машинного обучения, включая распознавание речи, голоса, музыки и звуков окружающей среды. Она описывает этапы анализа аудиоданных, методы их получения, подготовки, предобработки, а также выбор и обучение моделей машинного обучения, таких как LSTM и CNN. В статье также представлен пример приложения для определения храпа и скрежета зубов.
</description>
<justification>
1. **Актуальность:** Статья в целом соответствует теме хранения и доставки медиаконтента, поскольку затрагивает вопросы обработки и анализа аудио, что важно для оптимизации этих процессов. Однако, основной фокус статьи - на применении машинного обучения для анализа аудио, а не непосредственно на методах хранения и доставки.

2. **Достоверность:** Статья опубликована на сайте Altexsoft, компании, занимающейся разработкой программного обеспечения. Хотя это не научная публикация, Altexsoft имеет репутацию надежного источника информации в области технологий. В статье есть ссылки на некоторые источники, но их количество ограничено.

3. **Подробность:** Статья достаточно подробно описывает различные аспекты анализа аудиоданных, включая предобработку, выделение признаков и выбор моделей машинного обучения. Она рассматривает такие важные аспекты оптимизации, как сжатие данных (косвенно, через обсуждение форматов аудиофайлов), но не углубляется в кэширование и адаптивную потоковую передачу. В статье отсутствует обсуждение минимизации задержек и обеспечения доставки высококачественного контента в условиях ограниченной пропускной способности сети.

4. **Современность:**  Статья  относительно современная (2024 год),  информация в ней актуальна. В статье  упоминаются современные  технологии  и  подходы к  анализу аудио.

5. **Сфера применения:** Статья охватывает аспект  обработки аудио, который  косвенно связан с  хранением и доставкой. Изображения не рассматриваются.
</justification>
<score>6</score>
<Tags>Введение; Глава 1.2; Глава 2; Возможности для дальнейших исследований;</Tags>
<Tags_discription>Материал может быть использован во введении для общего обзора задач анализа аудио и в главе 1.2 "Оптимизация хранения данных" при обсуждении форматов аудиофайлов и их влияния на размер данных. Общие сведения о методах машинного обучения для анализа аудио могут быть полезны для главы 2 "Технологии и методы доставки медиаконтента" (хотя и требуют дополнения). Информация о применении AI в анализе аудио может быть использована в разделе "Возможности для дальнейших исследований".</Tags_discription>
<recommendation>Статью можно использовать в качестве дополнительного источника для получения общего представления о применении машинного обучения в анализе аудио и для краткого обзора методов предобработки данных. Однако,  для  более глубокого  изучения  методов хранения и доставки медиаконтента,  особенно  в  части  оптимизации,  кэширования и  адаптивной потоковой  передачи,  необходимо  обратиться к другим, более  специализированным источникам.</recommendation>
</rating>
"""


rating = Rating(responseExample)

notion_data = rating.get_notion_properties(database_id)
response = notion.pages.create(**notion_data)
print(rating.tags)